<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Perfil</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <style>
        body {
            background-color: #f4f4f9;
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        .navbar {
            background-color: #fff;
            box-shadow: 0px 2px 10px rgba(0, 0, 0, 0.1);
            padding: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 10;
        }

        .navbar h1 {
            font-size: 20px;
            font-weight: bold;
            margin: 0;
        }

        .navbar button {
            background: none;
            border: none;
            font-size: 18px;
            cursor: pointer;
        }

        .content {
            margin-top: 70px;
            width: 100%;
            max-width: 500px;
            padding: 0 15px;
        }

        .perfil-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-top: 20px;
        }

        .perfil-avatar {
            width: 100px;
            height: 100px;
            background-color: #d9d9d9;
            border-radius: 50%;
            margin-bottom: 15px;
        }

        .perfil-nome-container {
            display: flex;
            align-items: center;
            font-size: 22px;
            font-weight: bold;
            text-align: center;
        }

        .perfil-status {
            font-size: 14px;
            color: green;
            margin-bottom: 15px;
        }

        .treinos-semana {
            background-color: #fff;
            border-radius: 10px;
            padding: 20px;
            width: 100%;
            box-shadow: 0px 2px 10px rgba(0, 0, 0, 0.1);
        }

        .treinos-semana h4 {
            margin-bottom: 15px;
        }

        .treinos-semana .dias {
            display: flex;
            justify-content: space-around;
        }

        .dia {
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
        }

        .dia span {
            font-size: 14px;
            margin-bottom: 5px;
        }

        .check-circle {
            color: #4CAF50;
            font-size: 24px;
        }

        .unchecked-circle {
            color: #d9d9d9;
            font-size: 24px;
        }

        .edit-icon {
            margin-left: 10px;
            cursor: pointer;
            color: #007bff;
        }

        .input-nome {
            width: 200px;
            padding: 5px;
            font-size: 18px;
        }

        .description-section {
            margin-top: 15px;
            text-align: center;
        }

        .description-box {
            background-color: white;
            border-radius: 10px;
            padding: 10px;
            margin: 0 auto;
            width: 100%;
            max-width: 300px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        #description-text {
            font-size: 14px;
            color: #333;
            margin: 0;
            text-align: center;
        }

        #description-input {
            width: 100%;
            padding: 10px;
            border: none;
            border-radius: 10px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            display: none;
        }

    </style>
</head>
<body>

    <!-- Barra de navegação superior -->
    <div class="navbar">
        <button onclick="voltar()">
            <i class="fas fa-arrow-left"></i> <!-- Ícone de voltar -->
        </button>
        <h1>Perfil</h1>
        <div></div> 
    </div>

    <div class="content">
        <div class="perfil-container">
            <div class="perfil-avatar"></div>

            <div class="perfil-nome-container">
                <span id="perfil-nome">DIGITE SEU NOME...</span>
                <i class="fas fa-edit edit-icon" onclick="editarNome()"></i>
            </div>
            <div class="perfil-status">ATIVO</div>

            <div class="description-section">
                <div class="description-box">
                    <p id="description-text">Esta é a descrição sobre a pessoa. Clique no ícone para editar.</p>
                    <input type="text" id="description-input" class="form-control" value="Esta é a descrição sobre a pessoa." />
                </div>
                <button id="edit-description" class="btn btn-link">
                    <i class="fas fa-edit"></i>
                </button>
            </div>

            <div class="treinos-semana">
                <h4>Treinos esta semana</h4>
                <div class="dias">
                    <div class="dia" onclick="toggleTreino(this)">
                        <span>D</span>
                        <i class="fas fa-circle unchecked-circle"></i>
                    </div>
                    <div class="dia" onclick="toggleTreino(this)">
                        <span>S</span>
                        <i class="fas fa-circle unchecked-circle"></i>
                    </div>
                    <div class="dia" onclick="toggleTreino(this)">
                        <span>T</span>
                        <i class="fas fa-circle unchecked-circle"></i>
                    </div>
                    <div class="dia" onclick="toggleTreino(this)">
                        <span>Q</span>
                        <i class="fas fa-circle unchecked-circle"></i>
                    </div>
                    <div class="dia" onclick="toggleTreino(this)">
                        <span>Q</span>
                        <i class="fas fa-circle unchecked-circle"></i>
                    </div>
                    <div class="dia" onclick="toggleTreino(this)">
                        <span>S</span>
                        <i class="fas fa-circle unchecked-circle"></i>
                    </div>
                    <div class="dia" onclick="toggleTreino(this)">
                        <span>S</span>
                        <i class="fas fa-circle unchecked-circle"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.getElementById('edit-description').addEventListener('click', function() {
            const descriptionText = document.getElementById('description-text');
            const descriptionInput = document.getElementById('description-input');
            
            // Exibir o campo de edição e esconder o texto
            descriptionText.style.display = 'none';
            descriptionInput.style.display = 'block';
            
            // Focar no campo de edição
            descriptionInput.focus();
        });

        // Função para salvar a nova descrição
        document.getElementById('description-input').addEventListener('blur', function() {
            const descriptionText = document.getElementById('description-text');
            const descriptionInput = document.getElementById('description-input');
            
            // Salvar a nova descrição e voltar ao modo de visualização
            descriptionText.innerText = descriptionInput.value;
            descriptionText.style.display = 'block';
            descriptionInput.style.display = 'none';
        });

        // Também salvar se o usuário pressionar "Enter"
        document.getElementById('description-input').addEventListener('keypress', function(event) {
            if (event.key === 'Enter') {
                this.blur(); // Dispara o evento 'blur' para salvar a descrição
            }
        });

        function editarNome() {
            const nomeSpan = document.getElementById('perfil-nome');
            const nomeAtual = nomeSpan.innerText;

            // Cria um input para o novo nome
            const input = document.createElement('input');
            input.type = 'text';
            input.value = nomeAtual;
            input.className = 'input-nome';

            // Substitui o span pelo input
            nomeSpan.replaceWith(input);

            // Troca o ícone de edição por um ícone de confirmação (check)
            const editIcon = document.querySelector('.edit-icon');
            editIcon.className = 'fas fa-check edit-icon';
            editIcon.onclick = function() {
                salvarNome(input);
            };
        }

        function salvarNome(input) {
            const novoNome = input.value;

            // Cria um novo span com o nome atualizado
            const nomeSpan = document.createElement('span');
            nomeSpan.id = 'perfil-nome';
            nomeSpan.innerText = novoNome;

            // Substitui o input pelo novo span
            input.replaceWith(nomeSpan);

            // Troca o ícone de confirmação de volta para o ícone de edição
            const editIcon = document.querySelector('.edit-icon');
            editIcon.className = 'fas fa-edit edit-icon';
            editIcon.onclick = function() {
                editarNome();
            };
        }

        function toggleTreino(element) {
            const icon = element.querySelector('i');

            if (icon.classList.contains('fa-check-circle')) {
                icon.classList.remove('fa-check-circle', 'check-circle');
                icon.classList.add('fa-circle', 'unchecked-circle');
            } else {
                icon.classList.remove('fa-circle', 'unchecked-circle');
                icon.classList.add('fa-check-circle', 'check-circle');
            }
        }

        function voltar() {
            window.location.href = '../main.html?tab=settings';
        }

    </script>

</body>
</html>
